# 2. recursion and complexity

utop is an interactive shell for top-level ocaml.

```ocaml
utop # let rec npower x n = 
if n = 0 then 1.0
else x *. npower x (n-1);;
val npower : float -> int -> float = <fun>
utop # npower 2.0 3
- : float = 8.
utop # npower 2.0 10
- : float = 1024.
```

in ocaml, ```rec``` is used to define recursive functions. so the function could call itself within its own definition. this is necessary because OCaml requires explicit indication of recursion to avoid potential infinite loops and to manage variable bindings correctly.

* note that ```*.``` is different from ```*```. multiplication with floating point. the result is type float in Ocaml. 

```ocaml
utop # let rec factorial n =
if n = 0 then 1
else n * factorial (n-1);;
val factorial : int -> int = <fun>
─( 13:54:36 )─< command 6 >──────────────────────────────────────{ counter: 0 }─
utop # factorial 3;;
- : int = 6
─( 13:59:29 )─< command 7 >──────────────────────────────────────{ counter: 0 }─
utop # factorial 5;;
- : int = 120
```

* mutually recursive functions

```ocaml
utop # let rec even x = 
match x with
| 0 -> true
| _ -> odd(x-1)
and odd x = 
match x with
| 0 -> false
| _ -> even(x-1);;
val even : int -> bool = <fun>
val odd : int -> bool = <fun>
─( 13:59:52 )─< command 9 >──────────────────────────────────────{ counter: 0 }─
utop # even 4;;
- : bool = true
─( 14:07:41 )─< command 10 >─────────────────────────────────────{ counter: 0 }─
utop # odd 7;;
- : bool = true
─( 14:07:55 )─< command 11 >─────────────────────────────────────{ counter: 0 }─
utop # even 9;;
- : bool = false
```


